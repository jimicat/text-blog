---
title: 'ç»™åšå®¢å¢åŠ è¯„è®ºåŠŸèƒ½'
description: ""
slug: "gei-bo-ke-zeng-jia-ping-lun-gong-neng"
publishDate: 2024-10-31T16:09:16+08:00
tags: ["hugo", "blog", "comment"]
---

### åŠŸèƒ½çš„å®ç°ï¼ˆå¼•ç”¨ Giscus å®˜æ–¹çš„ä»‹ç»ï¼‰

åˆ©ç”¨Â [GitHub Discussions](https://docs.github.com/en/discussions)Â å®ç°çš„è¯„è®ºç³»ç»Ÿï¼Œè®©è®¿å®¢å€ŸåŠ© GitHub åœ¨ä½ çš„ç½‘ç«™ä¸Šç•™ä¸‹è¯„è®ºå’Œååº”å§ï¼æœ¬é¡¹ç›®æ·±å—Â [utterances](https://github.com/utterance/utterances)Â çš„å¯å‘ã€‚

- [å¼€æº](https://github.com/giscus/giscus)ã€‚ğŸŒ
- æ— è·Ÿè¸ªï¼Œæ— å¹¿å‘Šï¼Œæ°¸ä¹…å…è´¹ã€‚ğŸ“¡ ğŸš«
- æ— éœ€æ•°æ®åº“ã€‚æ‰€æœ‰æ•°æ®å‡å‚¨å­˜åœ¨ GitHub Discussions ä¸­ã€‚:octocat:
- æ”¯æŒ[è‡ªå®šä¹‰ä¸»é¢˜](https://github.com/giscus/giscus/blob/main/ADVANCED-USAGE.md#data-theme)ï¼ğŸŒ—
- æ”¯æŒ[å¤šç§è¯­è¨€](https://github.com/giscus/giscus/blob/main/CONTRIBUTING.md#adding-localizations)ã€‚ğŸŒ
- [é«˜å¯é…ç½®æ€§](https://github.com/giscus/giscus/blob/main/ADVANCED-USAGE.md)ã€‚ğŸ”§
- è‡ªåŠ¨ä» GitHub æ‹‰å–æ–°è¯„è®ºä¸ç¼–è¾‘ã€‚ğŸ”ƒ
- [å¯è‡ªå»ºæœåŠ¡](https://github.com/giscus/giscus/blob/main/SELF-HOSTING.md)ï¼ğŸ¤³

### å®‰è£… Giscus

é€‰æ‹©é™æ€åšå®¢éƒ¨ç½²çš„ repoï¼ˆéæºç  repoï¼‰, é€‰æ‹© `Settings` >> å‹¾é€‰ `Discussions`.

è®¿é—®æ­¤é“¾æ¥ `https://github.com/apps/giscus` å®‰è£… Giscus. ç‚¹å‡» `Install` åï¼Œä¾æ¬¡é€‰æ‹© `Only select repositories` >> `Select repositories` é€‰æ‹©è‡ªå·±çš„é™æ€åšå®¢ repo, æœ€åç‚¹å‡» `Install` å®Œæˆå®‰è£…ã€‚
### é…ç½® Giscus

éœ€è¦è®¿é—® [Giscus](https://giscus.app/zh-CN) å®˜ç½‘æ¥è·å–ç›¸åº”çš„é…ç½®ä¿¡æ¯ï¼Œéšåå°†é…ç½®ä¿¡æ¯å†™å…¥åˆ°ä¸»é¢˜çš„å¯¹åº”é¡µé¢é‡Œã€‚

![conf](https://raw.githubusercontent.com/jimicat/image-upload/main/blog-images/202410311552982.png)

`é€‰æ‹©è¯­è¨€` >> `é€‰æ‹© repo`

![](https://raw.githubusercontent.com/jimicat/image-upload/main/blog-images/202410311555697.png)

ä½¿ç”¨æ¨èé…ç½®å³å¯ã€‚

### ä¿®æ”¹ HUGO æ¨¡æ¿æ–‡ä»¶

> æ ¹æ®åšå®¢ä¸»é¢˜çš„ä¸åŒï¼Œä¿®æ”¹çš„ä½ç½®ä¸æ˜¯å›ºå®šçš„ï¼Œè¦å‚è€ƒè‡ªå·±çš„ä¸»é¢˜è¿›è¡Œä¿®æ”¹ã€‚

### æˆ‘çš„æ–¹æ¡ˆ

åœ¨ä¸»é¢˜`layouts/partials/` ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª `comment.html` æ¨¡æ¿ï¼Œæ‹·è´  Giscus ç”Ÿæˆçš„ script è„šæœ¬ã€‚

```html
<script src="https://giscus.app/client.js"
Â  Â  Â  Â  data-repo="jimicat/jimicat.github.io"
Â  Â  Â  Â  data-repo-id="R_kgDOMxxxxx"
Â  Â  Â  Â  data-category="Announcements"
Â  Â  Â  Â  data-category-id="DIC_kwDOM5EFCxxxxx"
Â  Â  Â  Â  data-mapping="pathname"
Â  Â  Â  Â  data-strict="0"
Â  Â  Â  Â  data-reactions-enabled="1"
Â  Â  Â  Â  data-emit-metadata="0"
Â  Â  Â  Â  data-input-position="top"
Â  Â  Â  Â  data-theme="preferred_color_scheme"
Â  Â  Â  Â  data-lang="zh-CN"
Â  Â  Â  Â  data-loading="lazy"
Â  Â  Â  Â  crossorigin="anonymous"
Â  Â  Â  Â  async>
</script>
```

åœ¨ `layouts/_default/single.html` å¼•ç”¨ `comment.html` æ¨¡æ¿

```html
{{ define "main" }}
{{ partial "back_link.html" .}}
<article>
Â  Â  <p class="post-meta">
Â  Â  Â  Â  <time datetime="{{ .Date }}">
Â  Â  Â  Â  Â  Â  {{ .Date | time.Format site.Params.theme_config.date_format }}
Â  Â  Â  Â  </time>
Â  Â  </p>
Â  Â  <h1>{{ .Title }}</h1>
Â  Â  {{ if and (or (.Params.toc | default true)) (gt (len .TableOfContents) 80) }}
Â  Â  Â  Â  <aside class="toc">
Â  Â  Â  Â  Â  Â  {{ .TableOfContents }}
Â  Â  Â  Â  </aside>
Â  Â  {{ end }}
Â  Â  {{ .Content }}
Â  Â  
Â  Â  {{ partial "comment.html" .}} <!-- è¿™é‡Œå³æ˜¯å¼•ç”¨æ¨¡æ¿çš„å— -->
</article>
{{ end }}
```

### æäº¤æ›´æ”¹

```bash
git add .
git commit -m "add comment func"
git push
```

å¾… `Github Action` éƒ¨ç½²å®Œåè¿›è¡ŒéªŒè¯ã€‚

### æ•ˆæœå±•ç¤º

å‚è€ƒæœ¬åšå®¢çš„è¯„è®ºåŒº